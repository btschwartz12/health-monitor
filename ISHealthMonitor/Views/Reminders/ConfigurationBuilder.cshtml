@model ISHealthMonitor.Core.Data.Models.ReminderConfiguration

@{
    ViewData["Title"] = "Configuration Builder Page";
    ViewData["UserName"] = ViewBag.UserName;
    ViewData["UserIsAdmin"] = ViewBag.UserIsAdmin;
}


<form id="configurationBuilderForm" onsubmit="return SubmitConfigurationForm()">

    <div class="container">

        
        
        <div class="row">
            <div class="col-12">
                <h2 class="text-center" style="margin-bottom: 30px;"><strong>Configuration Builder</strong></h2>
                <h6 class="text-center">Select sites that you would like to be reminded about when their certificates expire</h6>
                <h6 class="text-center">You may choose as many as you'd like, and also select different reminder intervals for each site</h6>
            </div>
        </div>

        <hr/>

        <div class="row">
            <div class="col-12">
                <div class="form-group text-center">
                    <label for="select-sites"><strong>Sites</strong></label>
                    <select id="select-sites" class="" placeholder="Loading..."></select>
                </div>
            </div>
        </div>

        <hr />

        <div class="row">
            <div class="col-12">

                <div class="form-group text-center">
                    <label for="select-reminders"><strong>Reminders</strong></label>

                    <div class="d-flex justify-content-center align-items-center">
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="sameReminder" >
                            <label class="form-check-label" for="sameReminder">Same for each site?</label>
                        </div>
                    </div>

                    <hr />

                    <div class="same-reminder-row" style="text-align: center; padding: 10px;">
                        <select id="select-reminders" class="" placeholder="Select reminders..."></select>
                    </div>

                    

                    <div class="site-reminder-section">
                        <!-- This is where player-specific reminder selectors will be added -->
                    </div>

                </div>
            </div>
        </div>


        <div id="error-message" style="color: red; text-align: center; margin: 10px;"></div>


        <div class="form-group d-flex justify-content-center">
            <button type="submit" class="btn btn-success mr-3">Submit</button>
            <button type="reset" onclick="returnHome()" class="btn btn-warning mr-3">Cancel</button>

        </div>

        

    </div>
</form>

@section Scripts {

    <script>

        function returnHome() {
            window.location = "/";
        }


        $(document).ready(function () {

            let modelData = @Html.Raw(Json.Serialize(Model));

            initSelectize(modelData);
        });
    </script>
}


      